services:
#  api:
#    image: api
#    build:
#      context: .
#      dockerfile: src/Api/Dockerfile
#    ports:
#      - "5000:80"
#      - "5001:443"
#    environment:
#      - ASPNETCORE_ENVIRONMENT=Development
#      - ASPNETCORE_URLS=https://+;http://+
#      - ASPNETCORE_HTTPS_PORT=5001
    db:
      container_name: database
      image: postgres:latest
      healthcheck:
        test: [ "CMD-SHELL", "pg_isready -U postgres" ]
        interval: 5s
        timeout: 5s
        retries: 5
      deploy:
        resources:
          limits:
            cpus: "0.50"
            memory: 512M
          reservations:
            cpus: "0.25"
            memory: 128M
      ports:
        - "5432:5432"
      environment:
        POSTGRES_USER: postgres
        POSTGRES_PASSWORD: postgres
        POSTGRES_DB: receivables-flow
